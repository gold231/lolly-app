[{"/Users/rushilnagarsheth/lolly/Lolly-Website/src/index.js":"1","/Users/rushilnagarsheth/lolly/Lolly-Website/src/history.js":"2","/Users/rushilnagarsheth/lolly/Lolly-Website/src/App.js":"3","/Users/rushilnagarsheth/lolly/Lolly-Website/src/AppRoutes.js":"4","/Users/rushilnagarsheth/lolly/Lolly-Website/src/pages/Error404.js":"5","/Users/rushilnagarsheth/lolly/Lolly-Website/src/pages/Videopage.js":"6","/Users/rushilnagarsheth/lolly/Lolly-Website/src/components/Spinner.js":"7"},{"size":329,"mtime":1627474824000,"results":"8","hashOfConfig":"9"},{"size":88,"mtime":1627474824000,"results":"10","hashOfConfig":"9"},{"size":368,"mtime":1627474824000,"results":"11","hashOfConfig":"9"},{"size":522,"mtime":1627474824000,"results":"12","hashOfConfig":"9"},{"size":654,"mtime":1627474824000,"results":"13","hashOfConfig":"9"},{"size":9050,"mtime":1627534173298,"results":"14","hashOfConfig":"9"},{"size":270,"mtime":1627474824000,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"g9v93d",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"/Users/rushilnagarsheth/lolly/Lolly-Website/src/index.js",[],["32","33"],"/Users/rushilnagarsheth/lolly/Lolly-Website/src/history.js",[],"/Users/rushilnagarsheth/lolly/Lolly-Website/src/App.js",[],"/Users/rushilnagarsheth/lolly/Lolly-Website/src/AppRoutes.js",[],"/Users/rushilnagarsheth/lolly/Lolly-Website/src/pages/Error404.js",[],"/Users/rushilnagarsheth/lolly/Lolly-Website/src/pages/Videopage.js",["34"],"import { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Appstore from '../assets/img/appstore.png';\nimport Heart from '../assets/img/heart.png';\nimport Play from '../assets/img/play.png';\nimport '../assets/styles/_videopage.scss';\n\nimport axios from 'axios';\n\nconst detail = {\n  firstName: '',\n  dateOfBirth: '',\n  profilePicture: '',\n  location: '',\n  bio: '',\n  cloudflareId: '',\n  videoWidth: '',\n  videoHeight: '',\n};\n\nfunction Videopage() {\n  let { id } = useParams();\n  const [data, setData] = useState(detail);\n  const [videoURL, setVideoURL] = useState('');\n  const [age, setAge] = useState('');\n\n  const [flag, setFlag] = useState(0);\n  const [playFlag, setPlayFlag] = useState(false);\n  const [playFlag2, setPlayFlag2] = useState(false);\n\n  const videoRef = useRef(null);\n  const videoRef2 = useRef(null);\n\n  useEffect(() => {\n    let headers = {\n      'content-type': 'application/json',\n      'Access-Control-Allow-Credentials': 'true',\n      'Access-Control-Allow-Origin': '*',\n    };\n    axios\n      .get(`https://api.thelollyapp.com/v1/public/videos/${id}`, {\n        headers: headers,\n      })\n      .then((res) => {\n        setFlag(1);\n        let arr = {\n          firstName: res.data.data.user.firstName,\n          dateOfBirth: res.data.data.user.dateOfBirth,\n          profilePicture: res.data.data.user.profilePicture,\n          location: res.data.data.user.location || 'No Location',\n          caption: res.data.data.caption,\n          cloudflareId: res.data.data.cloudflareId,\n          videoWidth: res.data.data.videoWidth,\n          videoHeight: res.data.data.videoHeight,\n        };\n        console.log(arr);\n        setData(arr);\n        setVideoURL(\n          `https://videodelivery.net/${res.data.data.cloudflareId}/downloads/default.mp4`\n        );\n        let birthYear = new Date(\n          res.data.data.user.dateOfBirth * 1000\n        ).getFullYear();\n        let nowYear = new Date().getFullYear();\n        setAge(nowYear - birthYear);\n      })\n      .catch((error) => {\n        console.log(error);\n        setFlag(2);\n      });\n  }, [id]);\n\n  useEffect(() => {\n    console.log('data====', data);\n  }, [data]);\n\n  const videoAct = (event) => {\n    console.log('Video Act');\n    //desktop\n    let videoElement = videoRef.current;\n    if (!videoElement.paused) {\n      videoElement.pause();\n      setPlayFlag(true);\n    } else {\n      videoElement.play();\n      setPlayFlag(false);\n    }\n\n    //mobile\n    let videoElement2 = videoRef2.current;\n    if (!videoElement2.paused) {\n      videoElement2.pause();\n      setPlayFlag2(true);\n    } else {\n      videoElement2.play();\n      setPlayFlag2(false);\n    }\n  };\n\n  const handleVideoClick = (e) => {\n    if (!e.target.paused) {\n      console.log('Pausing');\n      e.target.pause();\n      setPlayFlag(true);\n      setPlayFlag2(true);\n    } else {\n      console.log('Playing');\n      e.target.play();\n      setPlayFlag(false);\n      setPlayFlag2(false);\n    }\n  };\n\n  return (\n    <div className='page'>\n      {flag === 1 && (\n        <>\n          <div className='content'>\n            <div className='video'>\n              <video\n                id='vid'\n                // width='320'\n                width={data.videoWidth}\n                height='240'\n                // height={data.videoHeight}\n                autoPlay='autoPlay'\n                loop='loop'\n                key={videoURL}\n                ref={videoRef}\n                onClick={handleVideoClick}\n              >\n                <source src={videoURL} type='video/mp4' />\n              </video>\n              {playFlag && (\n                <div className='play' onClick={(e) => videoAct(e)}>\n                  <img src={Play} alt='play' width='50' />\n                </div>\n              )}\n              <div className={`video-footer`}>\n                <div className='video-footer-left'>\n                  <img src={data.profilePicture} alt='avatar' />\n                  <div className='userinfo'>\n                    <h4>\n                      {data.firstName} | {age} | {data.location}\n                    </h4>\n                    <p>{data.caption}</p>\n                  </div>\n                </div>\n                <div className='video-footer-right'>\n                  <img className='heart' src={Heart} alt='heart' />\n                </div>\n              </div>\n\n              {/* <div class='video-footer'>\n                <div class='row'>\n                  <div class='col-md-2' style={{ border: '1px solid white' }}>\n                    <img\n                      src={data.profilePicture}\n                      alt='avatar'\n                      style={{ width: '50px' }}\n                    />\n                  </div>\n                  <div class='col-md-8' style={{ border: '1px solid white' }}>\n                    <h4>\n                      {data.firstName} | {age} | {data.location}\n                    </h4>\n                    <p>{data.caption}</p>\n                  </div>\n                  <div class='col-md-2' style={{ border: '1px solid white' }}>\n                    {' '}\n                    <img src={Heart} alt='avatar' style={{ width: '50px' }} />\n                  </div>\n                </div>\n              </div> */}\n              {/* <div className='bottommark'>\n                <img\n                  className='avatar'\n                  src={data.profilePicture}\n                  alt='avatar'\n                />\n                <div className='userinfo'>\n                  <h4>\n                    {data.firstName} | {age} | {data.location}\n                  </h4>\n                  <p>{data.caption}</p>\n                </div>\n                <img className='heart' src={Heart} alt='heart' />\n              </div> */}\n            </div>\n\n            <div className='user'>\n              <img className='avatar' src={data.profilePicture} alt='avatar' />\n              <p>{data.firstName} is on Lolly</p>\n              <a href='https://apps.apple.com/us/app/lolly/id1525109653'>\n                <img className='storeimg' src={Appstore} alt='appstore' />\n              </a>\n            </div>\n          </div>\n\n          <div className='mobile'>\n            <div className='userinfo'>\n              <img className='avatar' src={data.profilePicture} alt='avatar' />\n              <span className='username'>{data.firstName} is on Lolly</span>\n              <a href='https://apps.apple.com/us/app/lolly/id1525109653'>\n                Open app\n              </a>\n            </div>\n            <div className='video'>\n              <video\n                id='vid'\n                width='320'\n                width={data.videoWidth}\n                height='240'\n                // height={data.videoHeight}\n                autoPlay='autoPlay'\n                loop='loop'\n                key={videoURL}\n                ref={videoRef2}\n                onClick={handleVideoClick}\n              >\n                <source src={videoURL} type='video/mp4' />\n              </video>\n              {playFlag2 && (\n                <div className='play' onClick={(e) => videoAct(e)}>\n                  <img src={Play} alt='play' width='50' />\n                </div>\n              )}\n              <div className='video-footer'>\n                <div className='video-footer-left'>\n                  <img src={data.profilePicture} alt='avatar' />\n                  <div className='userinfo'>\n                    <h4>\n                      {data.firstName} | {age} | {data.location}\n                    </h4>\n                    <p>{data.caption}</p>\n                  </div>\n                </div>\n                <div className='video-footer-right'>\n                  <img className='heart' src={Heart} alt='heart' />\n                </div>\n              </div>\n              {/* <div className='bottommark'>\n                <img\n                  className='avatar'\n                  src={data.profilePicture}\n                  alt='avatar'\n                />\n                <div className='userinfo'>\n                  <h4>\n                    {data.firstName} | {age} | {data.location}\n                  </h4>\n                  <p>{data.caption}</p>\n                </div>\n                <img className='heart' src={Heart} alt='heart' />\n              </div> */}\n            </div>\n          </div>\n        </>\n      )}\n      {flag === 2 && (\n        <div>\n          <div className='pt-5'>\n            <div className='flex-grow'>\n              <div className='mx-auto text-white'>\n                <div className='align-items-center d-flex flex-row'>\n                  <div className='col-lg-6 error-page-divider text-lg-left pl-lg-4'>\n                    <h2>SORRY!</h2>\n                    <h3 className='font-weight-dark' style={{ color: 'black' }}>\n                      The page you’re looking for was not found.\n                    </h3>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Videopage;\n","/Users/rushilnagarsheth/lolly/Lolly-Website/src/components/Spinner.js",[],{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","severity":1,"message":"40","line":213,"column":17,"nodeType":"41","messageId":"42","endLine":213,"endColumn":40},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps","no-global-assign","no-unsafe-negation"]